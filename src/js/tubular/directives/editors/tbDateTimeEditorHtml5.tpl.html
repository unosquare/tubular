<div ng-class="{ \'form-group\' : $ctrl.showLabel && $ctrl.isEditing, \'has-error\' : !$ctrl.$valid && $ctrl.$dirty() }">
    <span ng-hide="$ctrl.isEditing">{{ $ctrl.value | date: format }}</span>
    <label ng-show="$ctrl.showLabel" ng-bind="$ctrl.label"></label><input type="datetime-local" ng-show="$ctrl.isEditing"
        ng-model="$ctrl.dateValue" class="form-control" ng-required="$ctrl.required" ng-readonly="$ctrl.readOnly" name="{{$ctrl.name}}"
    />
    <span class="help-block error-block" ng-show="$ctrl.isEditing" ng-repeat="error in $ctrl.state.$errors">{{error}}</span>
    <span class="help-block" ng-show="$ctrl.isEditing && $ctrl.help" ng-bind="$ctrl.help"></span>
</div>